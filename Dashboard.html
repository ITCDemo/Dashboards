<html>
<head>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://d3js.org/d3.geo.projection.v0.min.js"></script>
    <script src="https://d3js.org/topojson.v0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/deepthiyathiender/Dendograms/master/d3.tip.v0.6.3.js"></script>
    <script src="regionMap.js"></script>
    <script src="BarchartOverlay.js"></script>
    <script src="PieChart.js"></script>
    <script src="HorizontalChart.js"></script>
    <script src="SmallDendogram.js"></script>
    <script src="PieOverlay.js"></script>

    <style>
        section {
            background-color: white;
            /*border: solid black 1px;*/
            margin: 10px;
            position: relative;
            margin-top: 3px;
        }

        h3 {
            margin-top: 10px;
            line-height: 10px;
            position: absolute;
            z-index: 99;
        }

        #map-canvas {
            height: 300px;
            width: 600px;
        }

        .overlay {
            width: 180px;
            height: 50px;
            display: none;
            z-index: 99;
            box-sizing: border-box;
            font-size: 10px;
            line-height: 1;
            color: rgba(0, 0, 0, 0.6);
            content: "\25BC";
            position: absolute;
            text-align: center;
            padding: 12px;
            padding-top: 0;
            padding-bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            color: #fff;
            border-radius: 10px;
        }

        .mark:hover {
            cursor: hand;
        }

        .pieoverlay {
            width: 150px;
            height: 30px;
            display: none;
            z-index: 99;
            box-sizing: border-box;
            font-size: 16px;
            line-height: 1;
            color: rgba(0, 0, 0, 0.8);
            content: "\25BC";
            position: absolute;
            text-align: center;
            padding: 12px;
            padding-top: 5px;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            border-radius: 10px;
            font-weight: bold;
        }

        #bar-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: black;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            opacity: 0;
            z-index: -1;
            -webkit-transition: all 0.5s linear;
            -moz-transition: all 0.5s linear;
            -o-transition: all 0.5s linear;
            height: 0px;
            width: 600px;
            float: left;
        }


        #ratingSector-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000;
            background: rgba(0, 0, 0, 0.8);
            color: #ffffff;
            opacity: 0;
            z-index: -1;
            -webkit-transition: all 0.5s linear;
            -moz-transition: all 0.5s linear;
            -o-transition: all 0.5s linear;
            height: 0px;
            width: 620px;
            float: left;
        }

        .close {
            line-height: 12px;
            width: 18px;
            font-size: 14pt;
            margin-top: 1px;
            margin-right: 2px;
            position: absolute;
            top: 10px;
            right: 0;
            cursor: pointer;
        }

        .axis path,
        .axis line {
            fill: none;
            stroke: #fff;
            shape-rendering: crispEdges;
        }

        .bar,
        .barPie{
            fill: #05739D;
        }

        .bar:hover,
        .barPie:hover{
            fill: #095DA2;
        }

        .tick{
            fill:white;
            color: #fff;
            font-size: 10px;
        }

        .x.axis path
        .x.axis line {
            display: none;
            stroke: #fff;
            shape-rendering: crispEdges;
        }

        #yaxis g text {
            fill:black;
            color: #000;
            font-size: 14px;
        }

        .d3-tip {
            line-height: 1;
            font-weight: bold;
            padding: 12px;
            background: rgba(255, 255, 255, 1);
            color: #000;
            opacity: 1;
            z-index: 10000;
            border-radius: 2px;
        }

        /* Creates a small triangle extender for the tooltip */
        .d3-tip:after {
            box-sizing: border-box;
            display: inline;
            font-size: 10px;
            width: 100%;
            line-height: 1;
            color: #fff;
            content: "\25BC";
            position: absolute;
            text-align: center;
            opacity: 1;
        }

        /* Style northward tooltips differently */
        .d3-tip.n:after {
            margin: -1px 0 0 0;
            top: 100%;
            left: 0;
        }

        form {
            position: absolute;
            right: 10px;
            top: 10px;
        }

        #xaxis .domain {
            fill: white;
            stroke:#fff;
        }

        #xaxis text, #yaxis text {
            font-size: 12px;
            fill: white;
        }

        #horizontalBar svg{
            margin-top: -15px
        }


        .node {
            cursor: pointer;
        }

        .node circle {
            fill: #fff;
            stroke: #2B8CB1;
            stroke-width: 2px;
        }

        .node text {
            font: 10px sans-serif;
            fill: white;
            color: white;
        }

        .link {
            fill: none;
            stroke: #ccc;
            stroke-width: 4px;
            stroke-opacity: 0.3;
        }

        .country {
            fill: #E5E3DF;
            stroke-linejoin: round;
        }

        #barpieUtil {
            width: 230px;
            float: left;
        }

        .y {
            font-size: 10px;
            fill: white;
        }

        #barpieUtil svg.shadow{
            margin-left:40px
        }

    </style>
</head>

<body onload="initialize();">
<script>

</script>
<div class="pieoverlay"></div>

<section style="float: left; height: 300px; width: 600px;">
    <div id="map-canvas">
        <div class="overlay"></div>

    </div>
    <div id="bar-overlay">
        <div id="pie" class="chart-container">

        </div>
        <div class="close" onclick="$('#bar-overlay').css({'opacity': 0, 'z-index': -1, 'height': '0px'}); d3.select('#pie svg').remove();">&#10006;</div>
    </div>
    <form>
        <label><input type="radio" name="region" value="Region" checked> Region</label>
        <label><input type="radio" name="region" value="Country"> Country</label>
    </form>
</section>
<section style="float: left; height: 300px; width: 620px;" class="PieRating">
    <div id="ratingSector-overlay">


        <table>
            <tr>
                <td id="tree" style="width: 390px">

                </td>
                <td id="barpieUtil" style="width: 230px">

                </td>
            </tr>
        </table>

        <!--<div id="tree">-->

        <!--</div>-->
        <!--<div id="barpieUtil">-->

        <!--</div>-->
        <div class="close" onclick="$('#ratingSector-overlay').css({'opacity': 0, 'z-index': -1, 'height': '0px'}); d3.select('#tree svg').remove(); d3.select('#barpieUtil svg').remove(); ">&#10006;</div>

    </div>
    <form>
        <label><input type="radio" class="dataset" name="dataset" value="Sectors" checked> Sectors</label>
        <label><input type="radio" class="dataset" name="dataset" value="Rating"> Rating</label>
    </form>
</section>
<section id="horizontalBar" style="float: left; height: 340px; width: 1000px"></section>
</body>
</html>