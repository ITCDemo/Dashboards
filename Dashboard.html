<html>
<head>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAKnn5S7uLapTrSHEbXCwuj2xmEwloAbRI&callback=initialize">
    </script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/deepthiyathiender/Dendograms/master/d3.tip.v0.6.3.js"></script>
    <script src="regionMap.js"></script>
    <script src="BarchartOverlay.js"></script>
    <script src="PieChart.js"></script>
    <script src="HorizontalChart.js"></script>

    <style>
        section {
            background-color: white;
            border: solid black 1px;
            margin: 10px;
            position: relative;
        }

        h3 {
            margin-top: 10px;
            line-height: 10px;
            position: absolute;
            z-index: 99;
        }

        #map-canvas {
            height: 300px;
            width: 730px;
        }

        .overlay {
            width: 180px;
            height: 50px;
            display: none;
            z-index: 99;
            box-sizing: border-box;
            font-size: 10px;
            line-height: 1;
            color: rgba(0, 0, 0, 0.6);
            content: "\25BC";
            position: absolute;
            text-align: center;
            padding: 12px;
            padding-top: 0;
            padding-bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            color: #fff;
            border-radius: 10px;
        }

        .pieoverlay {
            width: 150px;
            height: 30px;
            display: none;
            z-index: 99;
            box-sizing: border-box;
            font-size: 16px;
            line-height: 1;
            color: rgba(0, 0, 0, 0.8);
            content: "\25BC";
            position: absolute;
            text-align: center;
            padding: 12px;
            padding-top: 5px;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            border-radius: 10px;
            font-weight: bold;
        }

        #bar-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: black;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            opacity: 0;
            z-index: -1;
            -webkit-transition: all 0.5s linear;
            -moz-transition: all 0.5s linear;
            -o-transition: all 0.5s linear;
            height: 0px;
            width: 730px;
            float: left;
        }

        #close {
            line-height: 12px;
            width: 18px;
            font-size: 14pt;
            margin-top: 1px;
            margin-right: 2px;
            position: absolute;
            top: 10px;
            right: 0;
            cursor: pointer;
        }

        .axis path,
        .axis line {
            fill: none;
            stroke: #fff;
            shape-rendering: crispEdges;
        }

        .bar {
            fill: orange;
        }

        .bar:hover {
            fill: orangered;
        }

        .x.axis path
        .x.axis line {
            display: none;
            stroke: #fff;
            shape-rendering: crispEdges;
        }

        .d3-tip {
            line-height: 1;
            font-weight: bold;
            padding: 12px;
            background: rgba(255, 255, 255, 1);
            color: #000;
            opacity: 1;
            z-index: 10000;
            border-radius: 2px;
        }

        /* Creates a small triangle extender for the tooltip */
        .d3-tip:after {
            box-sizing: border-box;
            display: inline;
            font-size: 10px;
            width: 100%;
            line-height: 1;
            color: #fff;
            content: "\25BC";
            position: absolute;
            text-align: center;
            opacity: 1;
        }

        /* Style northward tooltips differently */
        .d3-tip.n:after {
            margin: -1px 0 0 0;
            top: 100%;
            left: 0;
        }

        form {
            position: absolute;
            right: 10px;
            top: 10px;
        }

        #xaxis .domain {
            fill:none;
            stroke:#000;
        }
        #xaxis text, #yaxis text {
            font-size: 12px;
        }

        #horizontalBar svg{
            margin-top: -15px
        }

    </style>
</head>

<body onload="DrawPie();">
<script>

</script>
<div class="overlay"></div>
<div class="pieoverlay"></div>

<section style="float: left; height: 300px; width: 730px;">
    <div id="map-canvas"></div>
    <div id="bar-overlay">
        <div id="pie" class="chart-container">

        </div>
        <div id="close" onclick="$('#bar-overlay').css({'opacity': 0, 'z-index': -1, 'height': '0px'}); d3.select('#pie svg').remove();">&#10006;</div>
    </div>
</section>
<section style="float: left; height: 300px; width: 470px;" class="PieRating">
    <form>
        <label><input type="radio" name="dataset" value="Sectors" checked> Sectors</label>
        <label><input type="radio" name="dataset" value="Rating"> Rating</label>
    </form>
</section>
<section id="horizontalBar" style="float: left; height: 350px; width: 1000px"></section>
</body>
</html>